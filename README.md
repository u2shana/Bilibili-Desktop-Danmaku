# 📺 Bilibili桌面弹幕 (Bilibili Desktop Danmaku)

一个基于 PyQt5 和 asyncio 的 Bilibili 直播弹幕桌面挂件，便于在本地同时视听等场景。支持多直播间聚合监听、透明背景、弹幕防重叠、字体描边等功能。项目100%由gemini-3-pro-preview驱动。

![Python](https://img.shields.io/badge/Python-3.8%2B-blue)
![License](https://img.shields.io/badge/license-MIT-green)

## ✨ 功能特点

* **多直播间聚合**：同时监听多个直播间的弹幕。
* **极致性能**：采用位图缓存 (Bitmap Caching) 技术，弹幕再多也不卡顿。
* **视觉优化**：
    * 支持**字体描边**，在任何背景下都能看清。
    * **防重叠算法**，自动计算轨道，避免弹幕互相遮挡。
    * **丝滑滚动**，支持统一像素速度。
* **高度可配置**：
    * 实时调整字体大小、不透明度、滚动速度。
    * 支持“穿透模式” (鼠标穿透，不影响正常操作)。
    * 配置自动保存 (config.json)。
* **候补队列**：屏幕满时自动排队，防止弹幕丢失。

## 🛠️ 安装与运行

```bash
pip install PyQt5 bilibili-api-python
python bili_desktop_danmaku.py
```

## ⚙️ 使用说明

1. **启动**：运行程序后，屏幕会出现半透明的弹幕窗口。
2. **设置**：
   - 右键点击系统托盘（右下角）的小图标，选择 **"⚙️ 弹幕配置"**。
   - 在设置中输入直播间 ID（用逗号分隔），点击 **"应用并重启监听"**。
3. **锁定/穿透**：
   - 右键托盘图标，选择 **"🔒 锁定并穿透"**。此时窗口将忽略鼠标点击，你可以正常操作原本被遮挡的窗口。
   - 如需调整位置或大小，请选择 **"🔓 解锁编辑"**。

## 📄 开源协议

MIT License